    import React, { useState } from 'react';
    import { 
    Search, Calendar, Users, MapPin, ChevronRight, Star, ShieldCheck, 
    Gift, MousePointerClick, CheckCircle2, Globe, Utensils, Camera, 
    Map, Plane, Hotel, Briefcase, Award, Heart, ChevronLeft, ArrowRight,
    Share2, Navigation, Phone, Mail, MessageSquare, Instagram, Facebook,
    Twitter, Youtube, Clock, Users as UsersIcon, Compass, Shield,
    TrendingUp, Filter, Home, Car, Ticket, ChevronDown, Package,
    Sparkles, Tag, Percent, CheckCircle, BookOpen, Camera as CameraIcon,
    Mountain, Waves, Palette, Music, Coffee, ShoppingBag, Umbrella
    } from 'lucide-react';
    import { Link, useParams, useNavigate } from 'react-router-dom';
    import Footer from '../components/Footer';
    import { DESTINATION_MAP } from '../Data/DestinationDatas';
        
        highlights: [
        { icon: <Mountain />, title: "Mont Cameroun", desc: "Plus haut sommet d'Afrique de l'Ouest (4,095m)" },
        { icon: <Waves />, title: "Plages de Kribi", desc: "Sable doré et chutes se jetant dans l'océan" },
        { icon: <Camera />, title: "Parc de Waza", desc: "Safari lions, éléphants et girafes" },
        { icon: <Palette />, title: "Art Bamoun", desc: "Art royal et artisanat traditionnel" }
        ];
        
        attractions: [
        {
            name: "Mont Cameroun (Fako)",
            location: "Sud-Ouest",
            description: "Plus haut sommet d'Afrique de l'Ouest, idéal pour le trekking et l'observation de la biodiversité unique.",
            image: "https://images.unsplash.com/photo-1520116468816-95b69f847357?auto=format&fit=crop&w=800",
            category: "Montagne",
            rating: 4.9,
            duration: "2-3 jours"
        },
        {
            name: "Plages de Kribi",
            location: "Sud",
            description: "Plages de sable doré avec les célèbres chutes de la Lobé qui se jettent directement dans l'océan.",
            image: "https://images.unsplash.com/photo-1578330107248-23214736fdfc?auto=format&fit=crop&w=800",
            category: "Plage",
            rating: 4.7,
            duration: "1-2 jours"
        },
        {
            name: "Parc National de Waza",
            location: "Extrême-Nord",
            description: "L'un des meilleurs endroits d'Afrique Centrale pour observer lions, éléphants et girafes.",
            image: "https://images.unsplash.com/photo-1547471080-7cc2caa01a7e?auto=format&fit=crop&w=800",
            category: "Safari",
            rating: 4.6,
            duration: "3-4 jours"
        },
        {
            name: "Palais Royal de Foumban",
            location: "Ouest",
            description: "Siège historique du Royaume Bamoun, musée d'art et d'histoire exceptionnel.",
            image: "https://images.unsplash.com/photo-1523447193309-847242299878?auto=format&fit=crop&w=800",
            category: "Culture",
            rating: 4.4,
            duration: "1 jour"
        }
        ];

        packages: [
        {
            name: "Essentiel",
            price: "799€",
            duration: "7 jours",
            includes: ["Hôtel 3*", "Petits-déjeuners", "Transferts aéroport", "Guide local"],
            features: ["Mont Cameroun", "Kribi", "Visite culturelle"],
            popular: false
        },
        {
            name: "Confort",
            price: "1,299€",
            duration: "10 jours",
            includes: ["Hôtel 4*", "Repas inclus", "Guide privé", "Safari Waza"],
            features: ["Tous les sites majeurs", "Expériences culinaires", "Transport privé"],
            popular: true
        },
        {
            name: "Luxe",
            price: "2,499€",
            duration: "14 jours",
            includes: ["Hôtel 5*/Lodge", "Tout inclus", "Guide expert", "Vols domestiques"],
            features: ["Expériences VIP", "Hébergement premium", "Flexibilité totale"],
            popular: false
        }
        ];
        
        itinerary: [
        {
            day: 1,
            title: "Arrivée à Yaoundé",
            activities: [
            "Arrivée à l'aéroport international",
            "Transfert à l'hôtel",
            "Briefing avec votre guide",
            "Dîner de bienvenue"
            ]
        },
        {
            day: 2,
            title: "Découverte de Yaoundé",
            activities: [
            "Visite du Musée National",
            "Marché artisanal de Mfoundi",
            "Déjeuner cuisine locale",
            "Tour de la ville"
            ]
        },
        {
            day: 3,
            title: "Route vers Kribi",
            activities: [
            "Départ pour la côte",
            "Arrêt aux chutes d'Ekom-Nkam",
            "Installation à l'hôtel",
            "Coucher de soleil sur la plage"
            ]
        },
        {
            day: 4,
            title: "Plages et Chutes",
            activities: [
            "Excursion aux chutes de la Lobé",
            "Déjeuner de poissons frais",
            "Temps libre sur la plage",
            "Visite d'une plantation de cacao"
            ]
        }
        ];
        
        practicalInfo: [
        { icon: <Calendar />, title: "Meilleure période", value: "Novembre à Mars (saison sèche)" },
        { icon: <Clock />, title: "Décalage horaire", value: "GMT +1" },
        { icon: <ShieldCheck />, title: "Sécurité", value: "Précautions standard recommandées" },
        { icon: <UsersIcon />, title: "Population", value: "27+ millions d'habitants" }
        ];
        
        images: [
        "https://images.unsplash.com/photo-1520116468816-95b69f847357?auto=format&fit=crop&w=1200",
        "https://images.unsplash.com/photo-1578330107248-23214736fdfc?auto=format&fit=crop&w=1200",
        "https://images.unsplash.com/photo-1547471080-7cc2caa01a7e?auto=format&fit=crop&w=1200",
        "https://images.unsplash.com/photo-1523447193309-847242299878?auto=format&fit=crop&w=1200",
        "https://images.unsplash.com/photo-1615561570769-e6f773663a78?auto=format&fit=crop&w=1200"
        ];
        
// src/pages/DestinationDetail.jsx (partie corrigée)

// ... imports ...

const DestinationDetail = () => {
  const { id } = useParams();
  const navigate = useNavigate();
  const [lang, setLang] = useState('fr');
  const [selectedImage, setSelectedImage] = useState(0);
  const [selectedPackage, setSelectedPackage] = useState(1);
  const [showGallery, setShowGallery] = useState(false);
  const [isFavorite, setIsFavorite] = useState(false);

  // Récupérer la destination avec fallbacks sécurisés
  const destination = DESTINATION_MAP[id] || DESTINATION_MAP['cmr'] || {};
  
  // S'assurer que toutes les propriétés existent avec des valeurs par défaut
  const dest = {
    id: destination.id || 'cmr',
    name: destination.name || 'Cameroun',
    tagline: destination.tagline || "L'Afrique en miniature",
    description: destination.description || '',
    longDescription: destination.longDescription || '',
    stats: {
      rating: destination.stats?.rating || 4.8,
      reviews: destination.stats?.reviews || 1289,
      bestSeason: destination.stats?.bestSeason || 'Novembre à Mars',
      duration: destination.stats?.duration || '7-14 jours',
      visaRequired: destination.stats?.visaRequired || 'Oui pour la plupart',
      languages: destination.stats?.languages || ['Français', 'Anglais'],
      currency: destination.stats?.currency || 'Franc CFA',
      temperature: destination.stats?.temperature || '25°C moyenne',
      population: destination.stats?.population || '27+ millions',
      capital: destination.stats?.capital || 'Yaoundé',
      area: destination.stats?.area || '475,442 km²'
    },
    // S'assurer que les arrays existent
    highlights: Array.isArray(destination.highlights) ? destination.highlights : [
      { 
        icon: <Mountain />, 
        title: "Mont Cameroun", 
        desc: "Plus haut sommet d'Afrique de l'Ouest (4,095m)" 
      },
      { 
        icon: <Waves />, 
        title: "Plages de Kribi", 
        desc: "Sable doré et chutes se jetant dans l'océan" 
      }
    ],
    attractions: Array.isArray(destination.attractions) ? destination.attractions : [
      {
        name: "Mont Cameroun (Fako)",
        location: "Sud-Ouest",
        description: "Plus haut sommet d'Afrique de l'Ouest, idéal pour le trekking et l'observation de la biodiversité unique.",
        image: "https://images.unsplash.com/photo-1520116468816-95b69f847357?auto=format&fit=crop&w=800",
        category: "Montagne",
        rating: 4.9,
        duration: "2-3 jours"
      },
      {
        name: "Plages de Kribi",
        location: "Sud",
        description: "Plages de sable doré avec les célèbres chutes de la Lobé qui se jettent directement dans l'océan.",
        image: "https://images.unsplash.com/photo-1578330107248-23214736fdfc?auto=format&fit=crop&w=800",
        category: "Plage",
        rating: 4.7,
        duration: "1-2 jours"
      }
    ],
    packages: Array.isArray(destination.packages) ? destination.packages : [
      {
        name: "Essentiel",
        price: "799€",
        duration: "7 jours",
        includes: ["Hôtel 3*", "Petits-déjeuners", "Transferts aéroport", "Guide local"],
        features: ["Mont Cameroun", "Kribi", "Visite culturelle"],
        popular: false
      },
      {
        name: "Confort",
        price: "1,299€",
        duration: "10 jours",
        includes: ["Hôtel 4*", "Repas inclus", "Guide privé", "Safari Waza"],
        features: ["Tous les sites majeurs", "Expériences culinaires", "Transport privé"],
        popular: true
      }
    ],
    itinerary: Array.isArray(destination.itinerary) ? destination.itinerary : [
      {
        day: 1,
        title: "Arrivée à Yaoundé",
        activities: [
          "Arrivée à l'aéroport international",
          "Transfert à l'hôtel",
          "Briefing avec votre guide",
          "Dîner de bienvenue"
        ]
      },
      {
        day: 2,
        title: "Découverte de Yaoundé",
        activities: [
          "Visite du Musée National",
          "Marché artisanal de Mfoundi",
          "Déjeuner cuisine locale",
          "Tour de la ville"
        ]
      }
    ],
    practicalInfo: Array.isArray(destination.practicalInfo) ? destination.practicalInfo : [
      { icon: <Calendar />, title: "Meilleure période", value: "Novembre à Mars (saison sèche)" },
      { icon: <Clock />, title: "Décalage horaire", value: "GMT +1" },
      { icon: <ShieldCheck />, title: "Sécurité", value: "Précautions standard recommandées" },
      { icon: <UsersIcon />, title: "Population", value: "27+ millions d'habitants" }
    ],
    images: Array.isArray(destination.images) && destination.images.length > 0 
      ? destination.images 
      : ["https://images.unsplash.com/photo-1520116468816-95b69f847357?auto=format&fit=crop&w=1200"],
    cities: Array.isArray(destination.cities) ? destination.cities : [],
    hotels: Array.isArray(destination.hotels) ? destination.hotels : [],
    services: Array.isArray(destination.services) ? destination.services : [],
    travelerExperiences: Array.isArray(destination.travelerExperiences) ? destination.travelerExperiences : []
  };

  // Contenu de traduction
  const content = {
    fr: {
      heroTitle: `${dest.name} : ${dest.tagline}`,
      heroSub: "Découvrez cette destination exceptionnelle avec nos circuits privés et en petits groupes primés.",
      searchPlaceholder: "Rechercher des activités...",
      
      sections: {
        overview: "Aperçu",
        attractions: "Attractions principales",
        packages: "Forfaits",
        itinerary: "Itinéraire suggéré",
        practical: "Informations pratiques",
        gallery: "Galerie photos"
      },
      
      buttons: {
        bookNow: "Réserver maintenant",
        viewAll: "Voir tout",
        contactExpert: "Contacter un expert",
        exploreMore: "Explorer plus"
      },
      
      labels: {
        rating: "note",
        reviews: "avis",
        duration: "Durée",
        includes: "Inclus",
        features: "Caractéristiques",
        popular: "Populaire",
        bestTime: "Meilleure période",
        visaRequired: "Visa requis"
      },
      
      valueProps: [
        { icon: <ShieldCheck />, title: "Prix transparents", desc: "Le prix total inclut les taxes et frais." },
        { icon: <Gift />, title: "Faites-vous plaisir", desc: "Économisez 10% ou plus sur 100 000 hôtels." },
        { icon: <MousePointerClick />, title: "Soyez exigeant", desc: "Parcourez des milliers d'établissements." }
      ],
      topCitiesTitle: "Top des villes au Cameroun",
      dealsTitle: "Offres d'hôtels pour ce week-end",
      guideTitle: "Guide pour explorer le Cameroun",
      cities: dest.cities.length > 0 ? dest.cities : [
        { name: "Douala", img: "https://images.unsplash.com/photo-1595183457193-41a45778841a?auto=format&fit=crop&w=400" },
        { name: "Yaoundé", img: "https://images.unsplash.com/photo-1523447193309-847242299878?auto=format&fit=crop&w=400" },
        { name: "Kribi", img: "https://images.unsplash.com/photo-1578330107248-23214736fdfc?auto=format&fit=crop&w=400" },
        { name: "Limbe", img: "https://images.unsplash.com/photo-1615561570769-e6f773663a78?auto=format&fit=crop&w=400" }
      ],
      hotels: dest.hotels.length > 0 ? dest.hotels : [
        { name: "Hilton Yaoundé", rating: "4.5/5", reviews: "2,450", price: "145€", img: "https://images.unsplash.com/photo-1566073771259-6a8506099945?auto=format&fit=crop&w=400" },
        { name: "Onomo Hotel Douala", rating: "4.2/5", reviews: "1,120", price: "98€", img: "https://images.unsplash.com/photo-1551882547-ff40c63fe5fa?auto=format&fit=crop&w=400" }
      ]
    },
    en: {
      heroTitle: `${dest.name}: ${dest.tagline}`,
      heroSub: "Discover this exceptional destination with our award-winning private and small group tours.",
      searchPlaceholder: "Search for activities...",
      
      sections: {
        overview: "Overview",
        attractions: "Main Attractions",
        packages: "Packages",
        itinerary: "Suggested Itinerary",
        practical: "Practical Information",
        gallery: "Photo Gallery"
      },
      
      buttons: {
        bookNow: "Book Now",
        viewAll: "View All",
        contactExpert: "Contact Expert",
        exploreMore: "Explore More"
      },
      
      labels: {
        rating: "rating",
        reviews: "reviews",
        duration: "Duration",
        includes: "Includes",
        features: "Features",
        popular: "Popular",
        bestTime: "Best Time",
        visaRequired: "Visa Required"
      },
      
      valueProps: [
        { icon: <ShieldCheck />, title: "Upfront pricing", desc: "Our total price for your stay includes taxes." },
        { icon: <Gift />, title: "Treat yourself", desc: "Save 10% or more on 100,000+ hotels." },
        { icon: <MousePointerClick />, title: "Be picky", desc: "Search almost a million properties worldwide." }
      ],
      topCitiesTitle: "Top Cities in Cameroon",
      dealsTitle: "Great weekend hotel deals",
      guideTitle: "Guide to exploring Cameroon",
      cities: dest.cities.length > 0 ? dest.cities : [
        { name: "Douala", img: "https://images.unsplash.com/photo-1595183457193-41a45778841a?auto=format&fit=crop&w=400" },
        { name: "Yaounde", img: "https://images.unsplash.com/photo-1523447193309-847242299878?auto=format&fit=crop&w=400" },
        { name: "Kribi", img: "https://images.unsplash.com/photo-1578330107248-23214736fdfc?auto=format&fit=crop&w=400" },
        { name: "Limbe", img: "https://images.unsplash.com/photo-1615561570769-e6f773663a78?auto=format&fit=crop&w=400" }
      ],
      hotels: dest.hotels.length > 0 ? dest.hotels : [
        { name: "Hilton Yaounde", rating: "4.5/5", reviews: "2,450", price: "$158", img: "https://images.unsplash.com/photo-1566073771259-6a8506099945?auto=format&fit=crop&w=400" },
        { name: "Onomo Hotel Douala", rating: "4.2/5", reviews: "1,120", price: "$107", img: "https://images.unsplash.com/photo-1551882547-ff40c63fe5fa?auto=format&fit=crop&w=400" }
      ]
    }
  };

  const t = content[lang];

  // Vérifications de sécurité supplémentaires
  const safeDest = {
    ...dest,
    // S'assurer que les images existent pour la galerie
    images: dest.images && dest.images.length > 0 
      ? dest.images 
      : ["https://images.unsplash.com/photo-1520116468816-95b69f847357?auto=format&fit=crop&w=1200"],
    // S'assurer que selectedImage est valide
    selectedImage: selectedImage < dest.images.length ? selectedImage : 0
  };

  // Maintenant vous pouvez utiliser safeDest partout sans crainte

  return (
    <div className="min-h-screen bg-gray-50">
      {/* Barre de langue flottante */}
      <div className="fixed top-24 right-4 z-50 flex gap-1 bg-white p-1 rounded-full shadow-xl border">
        {['fr', 'en'].map((l) => (
          <button 
            key={l}
            onClick={() => setLang(l)}
            className={`px-3 py-1 rounded-full text-xs font-bold transition ${lang === l ? 'bg-blue-600 text-white' : 'text-gray-500 hover:bg-gray-100'}`}
          >
            {l.toUpperCase()}
          </button>
        ))}
      </div>

      {/* Header avec navigation */}
      <div className="container mx-auto px-4 pt-6">
        <nav className="flex items-center text-sm text-gray-600 mb-6">
          <Link to="/" className="hover:text-blue-600 transition">
            <Home className="w-4 h-4 inline mr-1" />
            {lang === 'fr' ? 'Accueil' : 'Home'}
          </Link>
          <ChevronRight className="w-4 h-4 mx-2" />
          <Link to="/destinations" className="hover:text-blue-600 transition">
            {lang === 'fr' ? 'Destinations' : 'Destinations'}
          </Link>
          <ChevronRight className="w-4 h-4 mx-2" />
          <span className="font-semibold text-gray-900">{safeDest.name}</span>
        </nav>
      </div>

      {/* Hero Section */}
      <div className="relative h-[500px] w-full overflow-hidden">
        <img 
          src={safeDest.images[safeDest.selectedImage]} 
          alt={safeDest.name}
          className="absolute inset-0 w-full h-full object-cover"
        />
        <div className="absolute inset-0 bg-gradient-to-b from-black/40 via-black/20 to-black/40"></div>
        
        {/* Actions sur l'image */}
        <div className="absolute top-6 right-6 z-10 flex gap-3">
          <button 
            onClick={() => setIsFavorite(!isFavorite)}
            className="p-3 bg-white/20 backdrop-blur-sm rounded-full hover:bg-white/30 transition"
          >
            <Heart className={`w-6 h-6 ${isFavorite ? 'text-red-500 fill-current' : 'text-white'}`} />
          </button>
          <button className="p-3 bg-white/20 backdrop-blur-sm rounded-full hover:bg-white/30 transition">
            <Share2 className="w-6 h-6 text-white" />
          </button>
        </div>

        {/* Contenu principal */}
        <div className="relative z-10 h-full flex items-center">
          <div className="container mx-auto px-4">
            <div className="max-w-3xl">
              <div className="inline-flex items-center gap-2 bg-white/20 backdrop-blur-md px-4 py-2 rounded-full text-white text-sm font-medium mb-6">
                <Award className="w-4 h-4 text-yellow-400" />
                {lang === 'fr' ? 'Destination certifiée' : 'Certified Destination'}
              </div>
              
              <h1 className="text-white text-4xl md:text-6xl font-bold mb-4">
                {t.heroTitle}
              </h1>
              
              <p className="text-white/90 text-lg md:text-xl mb-8 max-w-2xl">
                {safeDest.description}
              </p>

              {/* Statistiques rapides */}
              <div className="flex flex-wrap gap-6 mb-8">
                <div className="flex items-center text-white">
                  <Star className="w-5 h-5 text-yellow-400 fill-current mr-2" />
                  <span className="text-xl font-bold">{safeDest.stats.rating}</span>
                  <span className="ml-2 opacity-90">({safeDest.stats.reviews} {t.labels.reviews})</span>
                </div>
                <div className="flex items-center text-white">
                  <Calendar className="w-5 h-5 mr-2" />
                  <span>{safeDest.stats.bestSeason}</span>
                </div>
                <div className="flex items-center text-white">
                  <Clock className="w-5 h-5 mr-2" />
                  <span>{safeDest.stats.duration}</span>
                </div>
              </div>

              {/* Barre de recherche */}
              <div className="bg-white rounded-2xl p-2 flex items-center max-w-lg">
                <div className="flex-1 flex items-center px-4 py-3">
                  <Search className="text-gray-400 w-5 h-5 mr-3" />
                  <input 
                    type="text" 
                    placeholder={t.searchPlaceholder}
                    className="w-full bg-transparent border-none outline-none text-gray-800"
                  />
                </div>
                <button className="bg-blue-600 text-white px-6 py-3 rounded-xl font-semibold hover:bg-blue-700 transition">
                  <Search className="w-5 h-5" />
                </button>
              </div>
            </div>
          </div>
        </div>

        {/* Navigation d'images */}
        <div className="absolute bottom-6 left-1/2 transform -translate-x-1/2 flex gap-2">
          {safeDest.images.map((_, index) => (
            <button
              key={index}
              onClick={() => setSelectedImage(index)}
              className={`w-3 h-3 rounded-full transition ${selectedImage === index ? 'bg-white' : 'bg-white/50 hover:bg-white/70'}`}
            />
          ))}
        </div>
      </div>

      {/* Valeurs Ajoutées */}
      <div className="max-w-7xl mx-auto grid grid-cols-1 md:grid-cols-3 gap-6 py-12 px-4">
        {t.valueProps.map((prop, i) => (
          <div key={i} className="flex items-start gap-4">
            <div className="text-emerald-700">{React.cloneElement(prop.icon, { size: 28 })}</div>
            <div>
              <h3 className="font-bold text-gray-900">{prop.title}</h3>
              <p className="text-sm text-gray-600">{prop.desc}</p>
            </div>
          </div>
        ))}
      </div>
       {/* Top Cities Carousel */}
              <div className="max-w-7xl mx-auto py-8 px-4">
                  <h2 className="text-2xl font-bold mb-6">{t.topCitiesTitle}</h2>
                  <div className="flex gap-4 overflow-x-auto pb-4 no-scrollbar">
                  {t.cities.map((city, i) => (
                      <div key={i} className="flex-shrink-0 w-72 h-48 relative rounded-xl overflow-hidden group">
                      <img src={city.img} className="w-full h-full object-cover transition transform group-hover:scale-110" />
                      <div className="absolute inset-0 bg-gradient-to-t from-black/80 to-transparent flex items-end p-4">
                          <span className="text-white font-bold text-lg">{city.name}</span>
                      </div>
                      </div>
                  ))}
                  </div>
              </div>
      
              {/* Deals Section */}
              <div className="max-w-7xl mx-auto py-8 px-4">
                  <h2 className="text-2xl font-bold mb-6">{t.dealsTitle}</h2>
                  <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4">
                  {t.hotels.map((hotel, i) => (
                      <div key={i} className="bg-white rounded-xl overflow-hidden shadow hover:shadow-lg transition">
                      <div className="h-40 relative">
                          <img src={hotel.img} className="w-full h-full object-cover" />
                          <span className="absolute top-2 left-2 bg-blue-900 text-white text-[10px] px-2 py-1 rounded font-bold">
                          VIP ACCESS
                          </span>
                      </div>
                      <div className="p-4">
                          <h4 className="font-bold text-gray-900 truncate">{hotel.name}</h4>
                          <div className="flex items-center gap-1 my-1">
                          {[...Array(4)].map((_, i) => <Star key={i} size={12} className="fill-yellow-500 text-yellow-500" />)}
                          </div>
                          <p className="text-xs text-gray-500 mb-2">Yaoundé</p>
                          <div className="flex justify-between items-end">
                          <div>
                              <p className="text-xs font-bold text-emerald-700">{hotel.rating}</p>
                              <p className="text-[10px] text-gray-400">({hotel.reviews} reviews)</p>
                          </div>
                          <div className="text-right">
                              <span className="block text-xl font-bold">{hotel.price}</span>
                              <span className="text-[10px] text-gray-400">Total with taxes</span>
                          </div>
                          </div>
                      </div>
                      </div>
                  ))}
                  </div>
              </div>
      
              {/* Guide & Content Section */}
              <div className="max-w-7xl mx-auto py-12 px-4 border-t">
                  <div className="grid grid-cols-1 lg:grid-cols-3 gap-12">
                  <div className="lg:col-span-2">
                      <h2 className="text-2xl font-bold mb-6">{t.guideTitle}</h2>
                      <div className="space-y-6">
                      <section>
                          <h4 className="font-bold mb-2">Attractions Majeures</h4>
                          <p className="text-gray-600 text-sm leading-relaxed">
                          Le Cameroun, souvent surnommé "l'Afrique en miniature", propose une diversité incroyable. 
                          Du **Parc National de Waza** aux **Chutes de la Lobé** à Kribi, chaque région offre une expérience unique.
                          </p>
                          <button className="text-blue-600 text-sm font-bold mt-2 flex items-center">Read More <ChevronRight size={16}/></button>
                      </section>
                      <section>
                          <h4 className="font-bold mb-2">Meilleur moment pour visiter</h4>
                          <p className="text-gray-600 text-sm leading-relaxed">
                          La saison sèche de **novembre à février** est idéale pour l'observation de la faune sauvage dans le nord et les randonnées au Mont Cameroun.
                          </p>
                      </section>
                      </div>
                  </div>
                  <div className="bg-white p-6 rounded-xl shadow-sm border h-fit">
                      <h4 className="font-bold mb-4 italic text-gray-400">Pourquoi réserver avec nous ?</h4>
                      <ul className="space-y-3">
                      <li className="flex gap-2 text-sm items-center"><ShieldCheck className="text-emerald-600" size={16}/> Annulation gratuite sur la plupart des hôtels</li>
                      <li className="flex gap-2 text-sm items-center"><Gift className="text-emerald-600" size={16}/> Récompenses OneKeyCash™</li>
                      </ul>
                  </div>
                  </div>
              </div>
      
              {/* Contenu principal */}
              <div className="container mx-auto px-4 py-12">
                  <div className="grid grid-cols-1 lg:grid-cols-3 gap-8">
                  {/* Colonne gauche - Aperçu et Attractions */}
                  <div className="lg:col-span-2 space-y-8">
                      {/* Aperçu */}
                      <div className="bg-white rounded-2xl p-8 shadow-sm">
                      <h2 className="text-2xl font-bold text-gray-900 mb-6">{t.sections.overview}</h2>
                      <p className="text-gray-700 leading-relaxed mb-6">
                          {dest.longDescription}
                      </p>
                      
                      {/* Points forts */}
                      <div className="mt-8">
                          <h3 className="text-xl font-bold text-gray-900 mb-6">{lang === 'fr' ? 'Points forts' : 'Highlights'}</h3>
                          <div className="grid grid-cols-1 md:grid-cols-2 gap-6">
                          {dest.highlights.map((highlight, index) => (
                              <div key={index} className="flex items-start gap-4 p-4 bg-gray-50 rounded-xl">
                              <div className="p-3 bg-blue-100 text-blue-600 rounded-lg">
                                  {highlight.icon}
                              </div>
                              <div>
                                  <h4 className="font-bold text-gray-900 mb-1">{highlight.title}</h4>
                                  <p className="text-gray-600 text-sm">{highlight.desc}</p>
                              </div>
                              </div>
                          ))}
                          </div>
                      </div>
                      </div>
      
                      {/* Attractions principales */}
                      <div className="bg-white rounded-2xl p-8 shadow-sm">
                      <div className="flex justify-between items-center mb-6">
                          <h2 className="text-2xl font-bold text-gray-900">{t.sections.attractions}</h2>
                          <button className="text-blue-600 font-semibold flex items-center">
                          {t.buttons.viewAll}
                          <ChevronRight className="w-4 h-4 ml-1" />
                          </button>
                      </div>
                      
                      <div className="grid grid-cols-1 md:grid-cols-2 gap-6">
                          {dest.attractions.map((attraction, index) => (
                          <div key={index} className="group overflow-hidden rounded-xl border border-gray-200 hover:shadow-lg transition">
                              <div className="relative h-48 overflow-hidden">
                              <img 
                                  src={attraction.image} 
                                  alt={attraction.name}
                                  className="w-full h-full object-cover group-hover:scale-110 transition-transform duration-500"
                              />
                              <div className="absolute top-3 left-3">
                                  <span className="px-3 py-1 bg-white/90 backdrop-blur-sm rounded-full text-xs font-semibold">
                                  {attraction.category}
                                  </span>
                              </div>
                              </div>
                              <div className="p-6">
                              <div className="flex justify-between items-start mb-3">
                                  <h3 className="font-bold text-gray-900 group-hover:text-blue-600 transition">
                                  {attraction.name}
                                  </h3>
                                  <div className="flex items-center text-sm text-gray-600">
                                  <Clock className="w-4 h-4 mr-1" />
                                  {attraction.duration}
                                  </div>
                              </div>
                              <p className="text-gray-600 text-sm mb-4">{attraction.description}</p>
                              <div className="flex justify-between items-center">
                                  <div className="flex items-center">
                                  <MapPin className="w-4 h-4 text-gray-400 mr-1" />
                                  <span className="text-sm text-gray-600">{attraction.location}</span>
                                  </div>
                                  <div className="flex items-center">
                                  <Star className="w-4 h-4 text-yellow-400 fill-current mr-1" />
                                  <span className="font-semibold">{attraction.rating}</span>
                                  </div>
                              </div>
                              </div>
                          </div>
                          ))}
                      </div>
                      </div>
      
                      {/* Itinéraire suggéré */}
                      <div className="bg-white rounded-2xl p-8 shadow-sm">
                      <h2 className="text-2xl font-bold text-gray-900 mb-6">{t.sections.itinerary}</h2>
                      <div className="space-y-6">
                          {dest.itinerary.map((day) => (
                          <div key={day.day} className="border-l-4 border-blue-500 pl-6 py-2">
                              <div className="flex items-center mb-4">
                              <div className="w-10 h-10 bg-blue-100 text-blue-600 rounded-full flex items-center justify-center font-bold mr-4">
                                  J{day.day}
                              </div>
                              <h3 className="text-lg font-bold text-gray-900">{day.title}</h3>
                              </div>
                              <ul className="space-y-2">
                              {day.activities.map((activity, index) => (
                                  <li key={index} className="flex items-center text-gray-700">
                                  <CheckCircle className="w-5 h-5 text-green-500 mr-3 flex-shrink-0" />
                                  {activity}
                                  </li>
                              ))}
                              </ul>
                          </div>
                          ))}
                      </div>
                      </div>
                  </div>
      
                  {/* Colonne droite - Forfaits et Informations */}
                  <div className="space-y-8">
                      {/* Forfaits */}
                      <div className="bg-white rounded-2xl p-8 shadow-sm">
                      <h2 className="text-2xl font-bold text-gray-900 mb-6">{t.sections.packages}</h2>
                      <div className="space-y-6">
                          {dest.packages.map((pkg, index) => (
                          <div 
                              key={index}
                              onClick={() => setSelectedPackage(index)}
                              className={`p-6 rounded-xl border-2 cursor-pointer transition ${selectedPackage === index ? 'border-blue-500 bg-blue-50' : 'border-gray-200 hover:border-blue-300'}`}
                          >
                              <div className="flex justify-between items-start mb-4">
                              <div>
                                  <h3 className="font-bold text-xl text-gray-900">{pkg.name}</h3>
                                  <p className="text-gray-600 text-sm mt-1">{pkg.duration}</p>
                              </div>
                              <div className="text-right">
                                  <div className="text-2xl font-bold text-blue-600">{pkg.price}</div>
                                  <div className="text-sm text-gray-500">/personne</div>
                              </div>
                              </div>
                              
                              {pkg.popular && (
                              <div className="mb-4">
                                  <span className="inline-block px-3 py-1 bg-yellow-100 text-yellow-800 text-xs font-bold rounded-full">
                                  {t.labels.popular}
                                  </span>
                              </div>
                              )}
                              
                              <div className="mb-6">
                              <h4 className="font-semibold text-gray-900 mb-2">{t.labels.includes}</h4>
                              <div className="space-y-2">
                                  {pkg.includes.map((item, idx) => (
                                  <div key={idx} className="flex items-center text-gray-700">
                                      <CheckCircle2 className="w-4 h-4 text-green-500 mr-2" />
                                      <span className="text-sm">{item}</span>
                                  </div>
                                  ))}
                              </div>
                              </div>
                              
                              <div className="mb-6">
                              <h4 className="font-semibold text-gray-900 mb-2">{t.labels.features}</h4>
                              <div className="flex flex-wrap gap-2">
                                  {pkg.features.map((feature, idx) => (
                                  <span key={idx} className="px-3 py-1 bg-gray-100 text-gray-700 text-xs rounded-full">
                                      {feature}
                                  </span>
                                  ))}
                              </div>
                              </div>
                              
                              <button className="w-full py-3 bg-gradient-to-r from-blue-600 to-blue-700 text-white font-semibold rounded-xl hover:from-blue-700 hover:to-blue-800 transition">
                              {t.buttons.bookNow}
                              </button>
                          </div>
                          ))}
                      </div>
                      </div>
      
                      {/* Informations pratiques */}
                      <div className="bg-white rounded-2xl p-8 shadow-sm">
                      <h2 className="text-2xl font-bold text-gray-900 mb-6">{t.sections.practical}</h2>
                      <div className="space-y-4">
                          {dest.practicalInfo.map((info, index) => (
                          <div key={index} className="flex items-start gap-4 p-3 hover:bg-gray-50 rounded-lg transition">
                              <div className="p-2 bg-blue-100 text-blue-600 rounded-lg">
                              {info.icon}
                              </div>
                              <div>
                              <div className="font-semibold text-gray-900">{info.title}</div>
                              <div className="text-gray-600 text-sm mt-1">{info.value}</div>
                              </div>
                          </div>
                          ))}
                      </div>
                      
                      <div className="mt-8 pt-6 border-t border-gray-200">
                          <button className="w-full py-3 border-2 border-blue-600 text-blue-600 font-semibold rounded-xl hover:bg-blue-50 transition flex items-center justify-center">
                          <MessageSquare className="w-5 h-5 mr-2" />
                          {t.buttons.contactExpert}
                          </button>
                      </div>
                      </div>
      
                      {/* Galerie */}
                      <div className="bg-white rounded-2xl p-8 shadow-sm">
                      <div className="flex justify-between items-center mb-6">
                          <h2 className="text-xl font-bold text-gray-900">{t.sections.gallery}</h2>
                          <button 
                          onClick={() => setShowGallery(true)}
                          className="text-blue-600 text-sm font-semibold"
                          >
                          {t.buttons.viewAll}
                          </button>
                      </div>
                      <div className="grid grid-cols-2 gap-3">
                          {dest.images.slice(0, 4).map((img, index) => (
                          <button
                              key={index}
                              onClick={() => {
                              setSelectedImage(index);
                              setShowGallery(true);
                              }}
                              className="relative aspect-square rounded-lg overflow-hidden group"
                          >
                              <img 
                              src={img} 
                              alt={`${dest.name} ${index + 1}`}
                              className="w-full h-full object-cover group-hover:scale-110 transition-transform duration-300"
                              />
                              <div className="absolute inset-0 bg-black/0 group-hover:bg-black/20 transition"></div>
                          </button>
                          ))}
                      </div>
                      </div>
                  </div>
                  </div>
              </div>
      
              {/* Modal Galerie */}
              {showGallery && (
                  <div className="fixed inset-0 bg-black z-50 flex items-center justify-center">
                  <div className="relative w-full h-full flex items-center justify-center">
                      <button 
                      onClick={() => setShowGallery(false)}
                      className="absolute top-6 right-6 text-white z-10 p-2 hover:bg-white/20 rounded-full"
                      >
                      <svg className="w-8 h-8" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                          <path strokeLinecap="round" strokeLinejoin="round" strokeWidth="2" d="M6 18L18 6M6 6l12 12" />
                      </svg>
                      </button>
                      
                      <div className="relative w-4/5 h-4/5">
                          <img 
                          src={dest.images[selectedImage]} 
                          alt="Gallery"
                          className="w-full h-full object-contain"
                      />
                      
                      <div className="absolute bottom-6 left-1/2 transform -translate-x-1/2 flex gap-2">
                          {dest.images.map((_, index) => (
                          <button
                              key={index}
                              onClick={() => setSelectedImage(index)}
                              className={`w-3 h-3 rounded-full ${selectedImage === index ? 'bg-white' : 'bg-white/50'}`}
                          />
                          ))}
                      </div>
                      </div>
                      
                      <button 
                      onClick={() => setSelectedImage(prev => prev > 0 ? prev - 1 : dest.images.length - 1)}
                      className="absolute left-6 text-white p-4 hover:bg-white/20 rounded-full"
                      >
                      <ChevronLeft className="w-8 h-8" />
                      </button>
                      <button 
                          onClick={() => setSelectedImage(prev => prev < dest.images.length - 1 ? prev + 1 : 0)}
                      className="absolute right-6 text-white p-4 hover:bg-white/20 rounded-full"
                      >
                      <ArrowRight className="w-8 h-8" />
                      </button>
                  </div>
                  </div>
              )}

      {/* Suite du code avec safeDest au lieu de dest */}
      {/* ... reste du code ... */}
      
      {/* Points forts avec vérification */}
      <div className="mt-8">
        <h3 className="text-xl font-bold text-gray-900 mb-6">{lang === 'fr' ? 'Points forts' : 'Highlights'}</h3>
        <div className="grid grid-cols-1 md:grid-cols-2 gap-6">
          {safeDest.highlights.map((highlight, index) => (
            <div key={index} className="flex items-start gap-4 p-4 bg-gray-50 rounded-xl">
              <div className="p-3 bg-blue-100 text-blue-600 rounded-lg">
                {highlight.icon}
              </div>
              <div>
                <h4 className="font-bold text-gray-900 mb-1">{highlight.title}</h4>
                <p className="text-gray-600 text-sm">{highlight.desc}</p>
              </div>
            </div>
          ))}
        </div>
      </div>

      {/* Attractions avec vérification */}
      <div className="grid grid-cols-1 md:grid-cols-2 gap-6">
        {safeDest.attractions.map((attraction, index) => (
          <div key={index} className="group overflow-hidden rounded-xl border border-gray-200 hover:shadow-lg transition">
            {/* ... contenu de l'attraction ... */}
          </div>
        ))}
      </div>

         {/* CTA Section */}
              <div className="bg-gradient-to-r from-blue-600 to-indigo-700 text-white py-16">
                  <div className="container mx-auto px-4">
                  <div className="max-w-3xl mx-auto text-center">
                      <h2 className="text-3xl font-bold mb-6">
                      {lang === 'fr' ? 'Prêt à découvrir le Cameroun ?' : 'Ready to discover Cameroon?'}
                      </h2>
                      <p className="text-blue-100 text-lg mb-8 leading-relaxed">
                      {lang === 'fr' 
                          ? 'Nos experts locaux sont à votre disposition pour créer le voyage sur mesure qui correspond à vos rêves.'
                          : 'Our local experts are here to create the custom trip that matches your dreams.'}
                      </p>
                      <div className="flex flex-wrap gap-4 justify-center">
                      <button className="px-8 py-4 bg-white text-blue-600 font-bold rounded-xl hover:bg-gray-100 transition transform hover:scale-105">
                          <Phone className="w-5 h-5 inline mr-2" />
                          {lang === 'fr' ? 'Nous appeler' : 'Call Us'}
                      </button>
                      <button className="px-8 py-4 border-2 border-white text-white font-bold rounded-xl hover:bg-white/10 transition">
                          <MessageSquare className="w-5 h-5 inline mr-2" />
                          {lang === 'fr' ? 'Chat en direct' : 'Live Chat'}
                      </button>
                      </div>
                  </div>
                  </div>
              </div>
      
              <Footer />
    </div>
  );
};

export default DestinationDetail;